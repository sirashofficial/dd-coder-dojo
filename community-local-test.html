<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community | DD Coder Dojo - Local Test</title>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- FullCalendar CSS -->
    <link href='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.8/main.min.css' rel='stylesheet' />
    <link href='https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.8/main.min.css' rel='stylesheet' />
    <link href='https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@6.1.8/main.min.css' rel='stylesheet' />
    <link href='https://cdn.jsdelivr.net/npm/@fullcalendar/list@6.1.8/main.min.css' rel='stylesheet' />
    
    <!-- Local CSS (inlined for testing) -->
    <style>
        /* Inline main styles for local testing */
        :root {
            --primary-color: #4facfe;
            --primary-dark: #007bff;
            --secondary-color: #00d9ff;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --text-primary: #2c3e50;
            --text-secondary: #6c757d;
            --gradient-primary: linear-gradient(135deg, #4facfe 0%, #00d9ff 100%);
            --bg-light: #f8f9fa;
            --border-light: #e9ecef;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .community-header {
            background: var(--gradient-primary);
            color: white;
            text-align: center;
            padding: 4rem 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        /* Calendar Section */
        .calendar-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .calendar-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .calendar-header h2 {
            color: var(--primary-dark);
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .calendar-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        /* View Toggle Buttons */
        .calendar-view-toggle {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .view-btn {
            background: var(--bg-light);
            border: 2px solid var(--border-light);
            color: var(--text-primary);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .view-btn:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .view-btn.active {
            background: var(--primary-dark);
            color: white;
            border-color: var(--primary-dark);
        }

        /* Calendar Controls */
        .calendar-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .control-btn {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .control-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        /* Calendar Containers */
        .calendar-container,
        .fullcalendar-container {
            min-height: 600px;
            border: 1px solid var(--border-light);
            border-radius: 8px;
            overflow: hidden;
        }

        .calendar-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 400px;
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .calendar-placeholder i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        /* Calendar Legend */
        .calendar-legend {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--bg-light);
            border-radius: 8px;
            border: 1px solid var(--border-light);
        }

        .calendar-legend h4 {
            color: var(--primary-dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .legend-items {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            display: inline-block;
        }

        .class-color { background: #28a745; }
        .event-color { background: #007bff; }
        .fundraiser-color { background: #fd7e14; }

        /* Modal Styles */
        .modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-secondary);
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close:hover {
            background: var(--bg-light);
            color: var(--danger-color);
        }

        .event-detail h3 {
            color: var(--primary-dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .event-detail p {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .event-detail strong {
            color: var(--text-primary);
        }

        /* FullCalendar Enhancements */
        .fc-theme-standard td {
            border-color: var(--border-light);
        }

        .fc-theme-standard th {
            border-color: var(--border-light);
            background: var(--bg-light);
        }

        .fc-daygrid-event {
            border-radius: 4px;
            font-weight: 500;
        }

        .fc-event-title {
            font-weight: 600;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .hero-title {
                font-size: 2rem;
            }

            .calendar-header h2 {
                font-size: 2rem;
            }

            .calendar-view-toggle {
                flex-direction: column;
                align-items: center;
            }

            .calendar-controls {
                flex-direction: column;
                align-items: center;
            }

            .legend-items {
                justify-content: center;
            }

            .modal-content {
                margin: 20px;
                width: calc(100% - 40px);
            }
        }

        /* Loading States */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            color: var(--text-secondary);
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-light);
            border-top: 2px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Success Message */
        .success-message {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <section class="community-header">
            <h1 class="hero-title">
                <i class="fas fa-users"></i> Community Engagement
            </h1>
            <p class="hero-subtitle">
                Get involved! See our upcoming events, fundraisers, and ways to connect with DD Coder Dojo.
            </p>
        </section>

        <!-- Calendar Section -->
        <section class="calendar-section">
            <div class="calendar-header">
                <h2><i class="fas fa-calendar-alt"></i> Community Calendar</h2>
                <p>Stay updated with our coding classes, events, and workshops</p>
                
                <!-- Calendar View Toggle -->
                <div class="calendar-view-toggle">
                    <button id="standardViewBtn" class="view-btn active">
                        <i class="fas fa-calendar"></i> Standard Calendar
                    </button>
                    <button id="interactiveViewBtn" class="view-btn">
                        <i class="fas fa-calendar-check"></i> Interactive Calendar
                    </button>
                </div>
            </div>

            <!-- Success Message -->
            <div class="success-message">
                <i class="fas fa-check-circle"></i>
                Interactive calendar successfully integrated! Switch between views to see the difference.
            </div>

            <!-- Calendar Controls -->
            <div class="calendar-controls" id="calendarControls" style="display: none;">
                <button class="control-btn" id="exportBtn">
                    <i class="fas fa-download"></i> Export Calendar
                </button>
                <button class="control-btn" id="printBtn">
                    <i class="fas fa-print"></i> Print Calendar
                </button>
            </div>

            <!-- Standard Calendar Container -->
            <div id="standardCalendar" class="calendar-container">
                <div class="calendar-placeholder">
                    <i class="fas fa-calendar-alt"></i>
                    <p>Standard calendar view (original implementation)</p>
                    <small>This would show the original custom calendar</small>
                </div>
            </div>

            <!-- Interactive Calendar Container (FullCalendar) -->
            <div id="interactiveCalendar" class="fullcalendar-container" style="display: none;">
                <div class="loading" id="calendarLoading">
                    <div class="spinner"></div>
                    <span>Loading interactive calendar...</span>
                </div>
            </div>

            <!-- Calendar Legend -->
            <div class="calendar-legend">
                <h4><i class="fas fa-info-circle"></i> Event Categories</h4>
                <div class="legend-items">
                    <div class="legend-item">
                        <span class="legend-color class-color"></span>
                        <span>Regular Classes</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color event-color"></span>
                        <span>Special Events</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color fundraiser-color"></span>
                        <span>Fundraisers</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Event Details Modal -->
        <div id="eventDetailsModal" class="modal" style="display: none;">
            <div class="modal-content">
                <button class="close" onclick="closeModal()" aria-label="Close modal">&times;</button>
                <div id="eventModalContent">
                    <!-- Event details will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- FullCalendar JavaScript -->
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.8/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.8/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@6.1.8/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/list@6.1.8/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@6.1.8/main.min.js'></script>

    <script>
        // Sample events data (simulating what would come from JSON files)
        const eventsData = [
            {
                "title": "Python Basics Class",
                "start": "2025-05-28T16:00:00",
                "end": "2025-05-28T17:30:00",
                "category": "class",
                "description": "Introduction to Python programming for beginners aged 8-12",
                "location": "Main Classroom",
                "instructor": "Ms. Sarah Johnson",
                "maxParticipants": 15,
                "currentParticipants": 12
            },
            {
                "title": "Web Development Workshop",
                "start": "2025-05-30T14:00:00",
                "end": "2025-05-30T16:00:00",
                "category": "event",
                "description": "Learn HTML, CSS, and JavaScript basics in this hands-on workshop",
                "location": "Computer Lab",
                "instructor": "Mr. Jake Williams",
                "maxParticipants": 20,
                "currentParticipants": 8
            },
            {
                "title": "Code-a-thon Fundraiser",
                "start": "2025-06-02T10:00:00",
                "end": "2025-06-02T18:00:00",
                "category": "fundraiser",
                "description": "24-hour coding marathon to raise funds for new equipment and scholarships",
                "location": "Main Hall",
                "instructor": "All Staff Members",
                "fundraisingGoal": "$5,000",
                "currentAmount": "$2,340"
            },
            {
                "title": "Scratch Programming for Kids",
                "start": "2025-06-04T15:00:00",
                "end": "2025-06-04T16:30:00",
                "category": "class",
                "description": "Visual programming with Scratch - perfect for young coders!",
                "location": "Kids Corner",
                "instructor": "Ms. Emma Davis",
                "maxParticipants": 12,
                "currentParticipants": 9
            },
            {
                "title": "AI & Machine Learning Intro",
                "start": "2025-06-07T13:00:00",
                "end": "2025-06-07T15:00:00",
                "category": "event",
                "description": "Introduction to artificial intelligence and machine learning concepts",
                "location": "Advanced Lab",
                "instructor": "Dr. Alex Chen",
                "maxParticipants": 25,
                "currentParticipants": 15
            },
            {
                "title": "Game Development Workshop",
                "start": "2025-06-09T14:00:00",
                "end": "2025-06-09T17:00:00",
                "category": "event",
                "description": "Create your first game using Unity and C#",
                "location": "Game Dev Studio",
                "instructor": "Mr. Ryan Martinez",
                "maxParticipants": 18,
                "currentParticipants": 11
            },
            {
                "title": "Community Coding Challenge",
                "start": "2025-06-12T18:00:00",
                "end": "2025-06-12T20:00:00",
                "category": "fundraiser",
                "description": "Monthly coding challenge with prizes and community networking",
                "location": "Main Hall",
                "instructor": "Community Volunteers",
                "prizes": "Tech gadgets and coding books"
            }
        ];

        let calendar = null;

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Initializing DD Coder Dojo Interactive Calendar...');
            setupViewToggle();
            initializeFullCalendar();
        });

        function setupViewToggle() {
            const standardBtn = document.getElementById('standardViewBtn');
            const interactiveBtn = document.getElementById('interactiveViewBtn');
            const standardCalendar = document.getElementById('standardCalendar');
            const interactiveCalendar = document.getElementById('interactiveCalendar');
            const calendarControls = document.getElementById('calendarControls');

            standardBtn.addEventListener('click', function() {
                standardBtn.classList.add('active');
                interactiveBtn.classList.remove('active');
                standardCalendar.style.display = 'block';
                interactiveCalendar.style.display = 'none';
                calendarControls.style.display = 'none';
                
                console.log('📅 Switched to Standard Calendar view');
            });

            interactiveBtn.addEventListener('click', function() {
                interactiveBtn.classList.add('active');
                standardBtn.classList.remove('active');
                standardCalendar.style.display = 'none';
                interactiveCalendar.style.display = 'block';
                calendarControls.style.display = 'flex';
                
                // Resize calendar when switching views
                if (calendar) {
                    setTimeout(() => calendar.updateSize(), 100);
                }
                
                console.log('🎯 Switched to Interactive Calendar view');
            });

            // Setup export and print buttons
            document.getElementById('exportBtn').addEventListener('click', exportCalendar);
            document.getElementById('printBtn').addEventListener('click', printCalendar);
        }

        function initializeFullCalendar() {
            const calendarEl = document.getElementById('interactiveCalendar');
            const loadingEl = document.getElementById('calendarLoading');
            
            try {
                calendar = new FullCalendar.Calendar(calendarEl, {
                    initialView: 'dayGridMonth',
                    headerToolbar: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
                    },
                    height: 'auto',
                    events: transformEventsForFullCalendar(eventsData),
                    eventClick: function(info) {
                        showEventDetails(info.event);
                    },
                    eventDidMount: function(info) {
                        // Add tooltip
                        const startTime = info.event.start.toLocaleString();
                        info.el.title = `${info.event.title}\n${startTime}`;
                        
                        // Add category-specific styling
                        const category = info.event.extendedProps.category;
                        info.el.classList.add(`fc-event-${category}`);
                    },
                    loading: function(isLoading) {
                        if (loadingEl) {
                            loadingEl.style.display = isLoading ? 'flex' : 'none';
                        }
                    }
                });

                calendar.render();
                
                // Hide loading indicator after successful render
                setTimeout(() => {
                    if (loadingEl) {
                        loadingEl.style.display = 'none';
                    }
                    console.log('✅ FullCalendar initialized successfully with', eventsData.length, 'events');
                }, 500);

            } catch (error) {
                console.error('❌ Failed to initialize FullCalendar:', error);
                if (loadingEl) {
                    loadingEl.innerHTML = `
                        <i class="fas fa-exclamation-triangle" style="color: var(--danger-color);"></i>
                        <span>Failed to load interactive calendar</span>
                    `;
                }
            }
        }

        function transformEventsForFullCalendar(events) {
            return events.map(event => ({
                title: event.title,
                start: event.start,
                end: event.end,
                backgroundColor: getCategoryColor(event.category),
                borderColor: getCategoryColor(event.category),
                textColor: '#ffffff',
                extendedProps: {
                    category: event.category,
                    description: event.description,
                    location: event.location,
                    instructor: event.instructor,
                    maxParticipants: event.maxParticipants,
                    currentParticipants: event.currentParticipants,
                    fundraisingGoal: event.fundraisingGoal,
                    currentAmount: event.currentAmount,
                    prizes: event.prizes
                }
            }));
        }

        function getCategoryColor(category) {
            const colors = {
                'class': '#28a745',      // Green for regular classes
                'event': '#007bff',      // Blue for special events
                'fundraiser': '#fd7e14'  // Orange for fundraisers
            };
            return colors[category] || '#6c757d';
        }

        function showEventDetails(event) {
            const modal = document.getElementById('eventDetailsModal');
            const content = document.getElementById('eventModalContent');
            
            const startDate = event.start.toLocaleString();
            const endDate = event.end ? event.end.toLocaleString() : 'Not specified';
            const props = event.extendedProps;
            
            let detailsHTML = `
                <div class="event-detail">
                    <h3><i class="fas fa-calendar-day"></i> ${event.title}</h3>
                    <p><strong><i class="fas fa-clock"></i> Start:</strong> ${startDate}</p>
                    <p><strong><i class="fas fa-clock"></i> End:</strong> ${endDate}</p>
                    <p><strong><i class="fas fa-tag"></i> Category:</strong> ${capitalizeFirst(props.category || 'General')}</p>
                    <p><strong><i class="fas fa-info-circle"></i> Description:</strong> ${props.description || 'No description available'}</p>
                    <p><strong><i class="fas fa-map-marker-alt"></i> Location:</strong> ${props.location || 'TBD'}</p>
                    <p><strong><i class="fas fa-user"></i> Instructor:</strong> ${props.instructor || 'TBD'}</p>
            `;
            
            // Add category-specific details
            if (props.maxParticipants) {
                const spotsLeft = props.maxParticipants - (props.currentParticipants || 0);
                detailsHTML += `
                    <p><strong><i class="fas fa-users"></i> Participants:</strong> ${props.currentParticipants || 0}/${props.maxParticipants}</p>
                    <p><strong><i class="fas fa-clipboard-list"></i> Spots Available:</strong> ${spotsLeft}</p>
                `;
            }
            
            if (props.fundraisingGoal) {
                const progress = props.currentAmount ? 
                    Math.round((parseFloat(props.currentAmount.replace('$', '').replace(',', '')) / 
                               parseFloat(props.fundraisingGoal.replace('$', '').replace(',', ''))) * 100) : 0;
                detailsHTML += `
                    <p><strong><i class="fas fa-dollar-sign"></i> Fundraising Goal:</strong> ${props.fundraisingGoal}</p>
                    <p><strong><i class="fas fa-chart-line"></i> Current Amount:</strong> ${props.currentAmount} (${progress}%)</p>
                `;
            }
            
            if (props.prizes) {
                detailsHTML += `<p><strong><i class="fas fa-trophy"></i> Prizes:</strong> ${props.prizes}</p>`;
            }
            
            detailsHTML += '</div>';
            content.innerHTML = detailsHTML;
            modal.style.display = 'block';
            
            console.log('📋 Event details shown for:', event.title);
        }

        function closeModal() {
            document.getElementById('eventDetailsModal').style.display = 'none';
        }

        function exportCalendar() {
            try {
                // Create ICS content
                let icsContent = [
                    'BEGIN:VCALENDAR',
                    'VERSION:2.0',
                    'PRODID:-//DD Coder Dojo//Calendar//EN',
                    'CALSCALE:GREGORIAN',
                    'METHOD:PUBLISH',
                    'X-WR-CALNAME:DD Coder Dojo Events',
                    'X-WR-CALDESC:Community events and classes for DD Coder Dojo'
                ];

                eventsData.forEach((event, index) => {
                    const start = new Date(event.start).toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
                    const end = event.end ? new Date(event.end).toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z' : start;
                    
                    icsContent.push(
                        'BEGIN:VEVENT',
                        `UID:${event.title.replace(/\s+/g, '-').toLowerCase()}-${index}@ddcoderdojo.com`,
                        `DTSTART:${start}`,
                        `DTEND:${end}`,
                        `SUMMARY:${event.title}`,
                        `DESCRIPTION:${event.description || ''}`,
                        `LOCATION:${event.location || ''}`,
                        `CATEGORIES:${event.category.toUpperCase()}`,
                        `STATUS:CONFIRMED`,
                        'END:VEVENT'
                    );
                });

                icsContent.push('END:VCALENDAR');

                // Download the file
                const blob = new Blob([icsContent.join('\r\n')], { type: 'text/calendar;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'dd-coder-dojo-calendar.ics';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                console.log('📥 Calendar exported successfully as ICS file');
                
                // Show success feedback
                showFeedback('Calendar exported successfully!', 'success');

            } catch (error) {
                console.error('❌ Export failed:', error);
                showFeedback('Export failed. Please try again.', 'error');
            }
        }

        function printCalendar() {
            window.print();
            console.log('🖨️ Print dialog opened');
        }

        function capitalizeFirst(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        function showFeedback(message, type) {
            // Create temporary feedback element
            const feedback = document.createElement('div');
            feedback.className = `feedback ${type}`;
            feedback.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                ${message}
            `;
            feedback.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 1.5rem;
                border-radius: 6px;
                color: white;
                font-weight: 500;
                z-index: 9999;
                animation: slideInRight 0.3s ease;
                background: ${type === 'success' ? '#28a745' : '#dc3545'};
            `;
            
            document.body.appendChild(feedback);
            
            setTimeout(() => {
                feedback.remove();
            }, 3000);
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('eventDetailsModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Keyboard accessibility
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        // Log successful initialization
        console.log('🎉 DD Coder Dojo Interactive Calendar initialized successfully!');
        console.log('📊 Features available:');
        console.log('  ✅ FullCalendar integration');
        console.log('  ✅ Dual view system (Standard/Interactive)');
        console.log('  ✅ Event categorization and color coding');
        console.log('  ✅ Event details modal');
        console.log('  ✅ Export to ICS format');
        console.log('  ✅ Print functionality');
        console.log('  ✅ Responsive mobile design');
        console.log('  ✅ Accessibility features');
    </script>
</body>
</html>
